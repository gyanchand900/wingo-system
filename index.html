<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Wingo System</title>
<style>
body{background:#000;color:#fff;font-family:Arial}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #333;padding:6px;text-align:center}
.big{color:#4da6ff}
.small{color:#ff9933}
.break{color:red}
.stable{color:#00ff99}
</style>
</head>
<body>

<h2>ðŸ“Š Wingo System</h2>

<div id="info">
Signal: <span id="signal">-</span><br>
Strength: <span id="strength">0%</span><br>
Prediction: <span id="prediction">WAIT</span><br><br>
ðŸŽ¯ Accuracy: <span id="accuracy">0%</span><br>
ðŸŸ¦ Big Breaks: <span id="bb">0</span> |
ðŸŸ§ Small Breaks: <span id="sb">0</span>
</div>

<table>
<thead>
<tr>
<th>Period</th>
<th>Number</th>
<th>BS</th>
</tr>
</thead>
<tbody id="rows"></tbody>
</table>

<script>
const BACKEND =
"https://wingo-system.onrender.com/state";

async function load(){
  const r = await fetch(BACKEND);
  const d = await r.json();

  document.getElementById("signal").innerText = d.signal;
  document.getElementById("signal").className =
    d.signal==="BREAK"?"break":"stable";

  document.getElementById("strength").innerText = d.strength+"%";
  document.getElementById("prediction").innerText = d.prediction;
  document.getElementById("accuracy").innerText = d.accuracy+"%";

  document.getElementById("bb").innerText = d.breakerSplit.Big;
  document.getElementById("sb").innerText = d.breakerSplit.Small;

  const tb = document.getElementById("rows");
  tb.innerHTML = "";
  d.history.slice().reverse().forEach(x=>{
    const tr=document.createElement("tr");
    tr.innerHTML=`
      <td>${x.period}</td>
      <td>${x.number}</td>
      <td class="${x.bs==="Big"?"big":"small"}">${x.bs}</td>
    `;
    tb.appendChild(tr);
  });
}

setInterval(load,3000);
load();
</script>

</body>
</html>
